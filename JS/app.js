// app.js
document.addEventListener("DOMContentLoaded", () => {
  // Botón volver (opcional si existe en otras páginas)
  const btnBack = document.getElementById("btnBack");
  if (btnBack) {
    btnBack.addEventListener("click", (e) => {
      e.preventDefault();
      window.location.href = "index.html";
    });
  }

  // ASCII art en consola
  try {
    console.log(`
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⣫⣟⢯⡓⢆⡼⣙⢮⡹⢭⢿⡣⡙⡜⡸⢙⣧⣓⠨⢍⢻⣷⣄⠐⠌⢂⠇⣊⠹⢳⣟⣿⣟⣯⣝⡝⢯⢻⡝⣟⠿⣿⣿⣿⣿⣿⣿⣿⣽⣫⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠟⣴⢻⣌⠳⣉⠦⠓⡌⠦⡑⢎⠺⡇⠀⠑⠠⠁⢺⣷⣄⠀⠂⢻⣟⣧⡀⠀⡈⠀⠄⠈⠹⣎⢻⣽⡞⣿⢮⣣⠞⣭⣛⢶⣹⡻⣿⣿⣿⣿⣿⣿⣿⣘⡻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣻⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢏⡼⡏⡶⢈⠇⢁⠊⠡⠈⠄⠁⠌⠓⡽⠀⠠⠁⢀⠂⣏⠻⣄⠀⠄⢷⠩⢿⣄⠀⠐⠀⡈⠀⠸⡆⢻⡽⠾⣍⡟⡻⣶⣭⣟⣷⣻⡷⣯⣿⣿⣿⣿⣿⣿⣶⡉⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⡸⢒⡇⢳⠈⠐⡀⠀⠄⠂⠀⠌⠀⡈⢼⠀⠀⡐⠀⢈⡗⡀⠙⣦⠀⠸⡇⠈⠻⣆⠀⠂⢀⠐⠀⢻⡀⢻⣧⣂⠉⠱⣌⠛⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣆⠙⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠢⣙⠌⣿⢸⡀⠄⠀⠄⠀⠠⠁⠀⠂⢀⠨⡄⠀⠀⡐⢸⠇⠀⠀⢈⣧⠀⢻⡤⠤⢽⣆⠀⡀⠀⠂⠀⣧⠀⣿⣿⣷⣦⡈⠓⢤⠙⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⡈⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢡⠐⡊⣽⡎⣇⠀⠈⢀⠐⠀⡀⠁⠐⠀⡀⡇⠀⠂⠀⣾⣠⠶⠚⠉⠉⢷⡸⣇⠀⠀⠸⣆⠀⠀⠂⠁⢹⠀⠸⣎⡻⢿⣿⣶⣄⠙⢤⠈⠙⢿⣿⣿⢯⣿⣿⣿⣽⣿⣿⣿⡄⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⢀⠘⠰⣘⣷⣻⡀⠈⠀⡀⠄⠀⠠⠁⠠⠀⠆⠀⠐⠀⡟⠀⠀⠀⠀⠀⠈⢳⣿⢀⠀⣠⠹⡆⠀⡐⠀⢸⡄⠀⢻⡳⢯⡺⣟⣿⣿⣦⣈⠢⠄⡈⠛⢿⣿⣿⣿⣿⣽⣿⣿⣿⣆⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢿⡿⢿⡿⣿⢿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⠀⠨⢁⠆⣿⢯⢧⠀⠁⢀⠀⠂⠁⢀⠐⠀⢸⠀⢀⣸⠃⠀⠀⣠⠖⢁⣤⣶⣿⠿⠶⠷⣴⣻⡄⠀⠠⢸⡇⠀⢸⣿⣀⡻⣌⠻⣟⣿⣿⣿⣦⣔⠠⣀⠈⠛⢿⣿⣯⣿⣿⣿⣿⣧⠹⣿⣭⣭⣽⣷⣶⣶⣶⣾⣾⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⢿⣿⣟⣿⢻⣿⠀⢀⠡⠌⢿⠘⣟⣇⠀⠂⢀⠐⠈⠀⠠⠈⣼⠀⢠⡇⠀⠀⢸⣡⣴⢿⣽⣶⣿⢿⣷⣦⡈⠹⣷⠀⢀⠠⡇⠀⠀⣷⡛⢿⣿⣷⡌⢻⣟⣿⠿⣿⣿⣶⣬⣒⠠⢈⡙⠿⣿⣿⣿⣿⣷⡘⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣽⣿⣿⣿⣿⣿⠀⣿⡆⠀⠂⢌⢺⡇⣸⣿⣆⠀⠂⠀⠄⠁⡀⠂⣯⠀⡾⠀⠀⠀⢰⣵⡟⠼⠿⣟⡔⠋⠺⣽⣿⡄⠘⡆⠀⢰⡇⠀⡀⡿⡇⠀⢹⣿⣿⣧⣜⢻⣷⣟⣿⣞⡿⣟⡿⣷⢶⣦⣄⣙⡻⢿⣿⣿⣌⠻⣿⣿⡻⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣿⣻⣿⠀⢻⣻⡀⠠⠌⡰⢿⡃⠘⢾⣆⠀⡁⢀⠂⢀⢰⡇⣰⠃⠀⠀⠀⢠⢿⠀⠀⠀⢸⡄⠀⡀⢹⠟⢻⣀⣷⠀⢸⠁⢀⠀⣧⣿⡀⠈⣿⣿⣿⣿⣦⣝⢻⡿⣿⣽⣯⣿⢾⣯⣞⣽⢻⡿⣿⡾⣽⣿⣷⣝⢻⣼⣹⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡄⠈⣿⢷⡀⠐⣠⠙⣧⠀⠈⢿⣧⠀⠠⠀⠂⣾⣰⠃⠀⠀⠀⠀⠀⠈⠃⠀⢻⣿⠛⠦⣴⠞⠂⣠⠋⢹⠀⣾⠀⢀⢀⣿⠛⠋⢰⣯⣉⣉⣉⣭⣽⣷⣝⡫⣿⢷⣶⣿⣿⣿⣍⠛⣿⣷⣳⣌⠙⠻⣿⣿⣦⣭⣛⠻⠿⢿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⢁⣸⣯⣷⡄⠐⡍⡞⣧⠀⢀⣿⣷⣄⠁⠰⡿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠙⢤⡀⢀⣠⠞⠁⠀⣺⢀⡏⠀⠠⢸⡿⠀⣀⣾⣿⣟⣿⣿⣿⣿⣿⣿⣿⣮⣟⣭⣿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣦⣄⠛⢿⣿⣿⣿⣳⢶⣶⣶⣬⣭⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣿⣿⣿⣿⡆⠈⣿⣿⡿⣆⠰⢹⣸⣷⣿⠁⠿⣿⣆⣹⣿⡆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠀⠈⠉⠉⠀⠀⠀⠀⣸⡾⡏⠀⠰⣾⣿⣿⣿⠿⠉⠁⠀⠉⠿⣿⣿⣿⣿⣿⣿⣿⣷⣏⣷⣿⣿⣿⣿⣾⣿⣿⣿⣿⣷⣆⠹⣿⣿⣿⣷⣎⣉⠹⠿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣽⣿⣿⡅⣻⣿⣿⣿⣧⣂⢳⣻⣿⡄⢀⣨⣖⢘⣿⢋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⢣⡇⡀⢷⣿⡟⠉⠀⠀⠀⠀⠀⠀⠀⠈⢻⣿⣿⢿⣿⣿⣿⣿⣿⣷⣯⣿⣻⢿⣿⣿⣿⣿⣿⣿⣷⣭⣿⣿⣿⣿⣿⣿⣿⣷
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣽⣿⣿⣿⣿⣔⣻⣿⣿⣿⣿⣦⣳⣻⣧⠀⠹⣏⡻⣾⡿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⡏⣼⠀⡙⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢿⣿⣿⣿⣷⣿⣾⣷⣿⣿⣿⣟⣿⡟⣻⡽⢻⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣮⡿⣿⣿⣿⣿⣿⣷⣿⣷⡐⠚⠟⠛⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⣼⡿⢀⣽⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣿⣿⣿⣿⣽⣟⡿⣿⣿⣿⣿⣿⣿⣿⣽⣹⣿⢡⢿⣽⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡻⣿⣿⣿⣿⣿⣿⣿⣿⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣾⣿⣿⣼⣿⡟⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣼⣿⣿⣿⣿⣿⣿⣾⣽⢿⣻⣿⣿⣿⣿⣿⣿⣾⣯⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣝⣿⣿⣿⣿⣿⣿⣿⣿⣷⡀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⠀⠀⠀⠀⠀⢀⣰⣿⣿⣿⣿⣿⡿⡗⠸⣿⣇⠀⠀⠀⠀⠀⠀⠀⢀⣿⣇⠀⣼⣿⣿⣿⣿⣿⣿⣿⣷⣟⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣯⢿⣯⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣤⣀⠀⠀⠀⠀⠀⠽⠫⠀⠀⠀⠠⣸⣿⣿⣿⣿⣿⣿⣿⡳⠀⠀⢻⣿⡇⠀⠀⠀⠀⠀⢀⡞⠁⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣾⣿⢿⣿⣿⣮⣽⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣟⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣟⣒⣶⣤⣤⣀⣀⣀⣤⢞⡿⣿⣽⣿⣿⣿⡟⠁⠁⠀⠀⠸⣿⣧⢀⠀⠀⢀⣠⢿⣀⣼⠋⢿⡿⡇⣽⣻⣻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣻⢯⡻⣿⣿⠱⢮⣶⣬⣙⢟⣿⠿⠉⡀⢄⠂⠰⢀⠀⣿⣿⡆⠠⢀⣴⠋⢸⣿⡷⢈⢂⣧⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣳⢯⡟⣵⢫⣿⣷⢂⠦⣉⠭⣉⠆⡆⢣⠔⢢⠘⡐⠢⢌⢸⣾⣧⡱⢈⡄⢪⣿⡗⣻⡘⢦⢊⢿⡿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣳⣏⢷⢫⣏⣿⣯⡞⣥⣳⢬⣛⣬⢃⢮⣡⢋⡜⡱⢊⢾⣿⣿⡑⢦⣘⣻⣿⡔⢿⣿⢣⣭⢛⣿⣟⣻⣿⣿⣿⣿⣿⣟⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣯⢷⣻⣿⣿⣟⡿⣿⣯⣶⣭⢿⣻⣽⣷⣯⣷⣯⣶⢯⣖⢧⣏⢶⣩⡓⢮⣿⣿⠼⣑⣾⣿⣿⠺⣥⣟⡳⣼⣷⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣻⣽⣻⡿⣷⣷⣫⢟⡽⣿⠿⣿⣾⣻⡾⡷⣷⢿⣯⣿⣿⡷⣿⣿⣿⣳⢿⣽⣯⣽⢾⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣿⣿⣯⣿⣽⣯⣟⣿⡿⣿⣾⣿⣷⣯⢷⣝⣳⣭⣷⣛⣾⣧⣿⣿⣿⢾⣷⣟⣻⣞⣯⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿  
por aqui no tienes nada que inspecionar, regresa a la pagina hacker >:3
    `);
  } catch (e) {
    console.warn("No se pudo mostrar el ASCII en consola");
  }

  // Año en footer
  const yearEl = document.getElementById("year");
  if (yearEl) {
    yearEl.textContent = new Date().getFullYear();
  }

  // Verificar sesión activa
  const sesionActiva =
    JSON.parse(localStorage.getItem("sesionActiva")) ||
    JSON.parse(sessionStorage.getItem("sesionActiva"));

  // Mostrar/ocultar botones de cerrar sesión (si existieran en la página actual)
  if (sesionActiva) {
    const cerrarSesionBtn = document.getElementById("cerrarSesionBtn");
    const cerrarSesionLink = document.getElementById("cerrarSesionLink");
    if (cerrarSesionBtn) cerrarSesionBtn.classList.remove("d-none");
    if (cerrarSesionLink) cerrarSesionLink.classList.remove("d-none");
  }

  // Función cerrar sesión global
  window.cerrarSesion = function () {
    localStorage.removeItem("sesionActiva");
    sessionStorage.removeItem("sesionActiva");
    window.location.href = "login.html#login";
  };

  // Mostrar modal después de 30 segundos si NO hay sesión
  if (!sesionActiva) {
    setTimeout(() => {
      const modalEl = document.getElementById("loginSugerencia");
      if (modalEl && typeof bootstrap !== "undefined") {
        const modal = new bootstrap.Modal(modalEl);
        modal.show();
      }
    }, 30000);
  }
});
